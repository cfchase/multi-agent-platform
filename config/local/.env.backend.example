# ========================================
# Backend Configuration
# ========================================
# This is the source of truth for all server-side configuration.
# Copy to backend/.env and fill in your values.
#
# Legend:
#   Uncommented = REQUIRED (must be set for the backend to function)
#   Commented   = OPTIONAL (uncomment and set if using that feature)

# --- REQUIRED ---

# API Configuration
API_V1_STR=/api/v1
PROJECT_NAME="Multi-Agent Platform"
PORT=8000

# Environment
# - "local": Bypasses OAuth with dev-user (default for local development)
# - "development": Requires real OAuth (configure .env.oauth-proxy)
ENVIRONMENT=local

# Frontend Configuration
FRONTEND_HOST=http://localhost:4180

# CORS Configuration (comma-separated list)
BACKEND_CORS_ORIGINS=http://localhost:4180,http://localhost:8080,http://localhost:5173

# Security
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=changethis_generate_a_secure_random_key

# ========================================
# Database Configuration
# ========================================
# For local development, use values that match scripts/dev-db.sh
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_USER=app
POSTGRES_PASSWORD=changethis
POSTGRES_DB=app

# ========================================
# Langflow Configuration
# ========================================
# Chat feature uses Langflow for AI responses.
#
# Mock Mode (for testing without Langflow):
#   LANGFLOW_URL=mock
#
# Self-hosted Langflow:
#   LANGFLOW_URL=http://localhost:7860
#   LANGFLOW_DEFAULT_FLOW=My Chat Flow  # Preferred (stable across imports)
#
# Langflow Cloud:
#   LANGFLOW_URL=https://api.langflow.astra.datastax.com
#   LANGFLOW_ID=your-project-id
#   LANGFLOW_DEFAULT_FLOW=My Chat Flow
#   LANGFLOW_API_KEY=your-api-key

# Default: mock mode (simulated responses for testing)
LANGFLOW_URL=mock

# For real Langflow, uncomment and configure:
# LANGFLOW_URL=http://localhost:7860
# LANGFLOW_DEFAULT_FLOW=My Chat Flow  # Preferred: stable across imports
# LANGFLOW_API_KEY=                   # Optional for self-hosted
# LANGFLOW_ID=                        # Required for Langflow Cloud

# --- OPTIONAL (uncomment to enable) ---

# ========================================
# External Service Integrations (OAuth)
# ========================================
# Users can connect external services to enable AI flows to access their data.
# Tokens are encrypted before storage in the database.

# Token encryption key for storing OAuth tokens securely.
# REQUIRED if using Google Drive or Dataverse integrations below.
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# TOKEN_ENCRYPTION_KEY=changethis_generate_a_fernet_key

# Google Drive OAuth — lets users connect their Google Drive to the app
# Setup:
#   1. Create project at: https://console.cloud.google.com/
#   2. Enable Google Drive API
#   3. Create OAuth 2.0 credentials (Web application)
#   4. Add redirect URI: http://localhost:8000/api/v1/integrations/oauth/callback/google_drive
#   5. Copy Client ID and Secret below
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Dataverse OAuth (Dynamic Client Registration)
# Defaults to https://mcp.dataverse.redhat.com/auth — only override if needed.
# Uses RFC 7591 dynamic client registration - no client credentials needed.
# Endpoints: {auth_url}/authorize, {auth_url}/token, {auth_url}/register
# DATAVERSE_AUTH_URL=https://mcp.dataverse.redhat.com/auth
